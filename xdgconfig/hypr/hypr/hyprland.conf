# For more info, see https://wiki.hyprland.org

### monitors ###

monitor=,1920x1080@60,0x0,1

### autostart ###

exec-once = ~/.config/hypr/autostart.sh
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

### environment variables ###

env = _JAVA_AWT_WM_NONREPARENTING,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = XDG_SESSION_DESKTOP,Hyprland
env = GTK_THEME,Mint-Y-Legacy-Dark-Sand
env = XCURSOR_SIZE,24

### sections ###

general {
    #sensitivity = 1.0 # legacy
    border_size = 0
    no_border_on_floating = false
    gaps_in = 0
    gaps_out = 0
    col.inactive_border = rgb(ffffff)
    col.active_border = rgb(444444)
    col.group_border = rgba(77770066)
    col.group_border_active = rgba(ffff0066)
    cursor_inactive_timeout = 4
    layout = dwindle
    no_cursor_warps = false
    apply_sens_to_raw = false
    resize_on_border = true
    extend_border_grab_area = 15
    hover_icon_on_border = true
}

decoration {
    rounding = 0
    multisample_edges = true
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0
    blur = false
    blur_size = 8
    blur_passes = 1
    blur_ignore_opacity = false
    blur_new_optimizations = true
    blur_xray = false
    drop_shadow = false
    shadow_range = 4
    shadow_render_power = 3
    shadow_ignore_window = true
    col.shadow = rgba(1a1a1aee)
    #col.shadow_inactive = # unset by default
    shadow_offset = [0, 0]
    shadow_scale = 1.0
    dim_inactive = false
    dim_strength = 0.5
    dim_special = 0.2
    dim_around = 0.4
    #screen_shader = # empty by default
}

# TODO: didn't check
animations {
    enabled = true

    bezier = myBezier, 0.05, 0.9, 0.1, 1.05

    animation = windows, 1, 3, myBezier
    animation = windowsOut, 1, 3, default, popin 80%
    animation = border, 1, 5, default
    animation = borderangle, 1, 4, default
    animation = fade, 1, 3, default
    animation = workspaces, 1, 3, default
}

input {
    #kb_model = # empty by default
    kb_layout = fr
    #kb_variant = # empty by default
    kb_options = caps:escape
    #kb_rules = # empty by default
    #kb_file = # empty by default
    numlock_by_default = true
    repeat_rate = 60
    repeat_delay = 300
    sensitivity = 0.0
    #accel_profile = # empty by default
    force_no_accel = false
    left_handed = false
    #scroll_method = # empty by default
    scroll_button = 0
    natural_scroll = false
    follow_mouse = 1
    float_switch_override_focus = 1
    touchpad {
        disable_while_typing = true
        natural_scroll = false
        scroll_factor = 1.0
        middle_button_emulation = false
        #tap_button_map = # empty by default
        clickfinger_behavior = false
        tap-to-click = true
        drag_lock = false
    }
    touchdevice {
        transform = 0
        #output = # empty by default
    }
}

gestures {
    workspace_swipe = true
    workspace_swipe_fingers = 3
    workspace_swipe_distance = 300
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = true
    workspace_swipe_forever = false
    workspace_swipe_numbered = false
}

misc {
    disable_hyprland_logo = false
    disable_splash_rendering = false
    vfr = true
    vrr = 0
    mouse_move_enables_dpms = false
    key_press_enables_dpms = false
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    disable_autoreload = false
    enable_swallow = true
    swallow_regex = ^(foot)$
    focus_on_activate = false
    no_direct_scanout = true
    hide_cursor_on_touch = true
    mouse_move_focuses_monitor = true
    suppress_portal_warnings = false
    render_ahead_of_time = false
    render_ahead_safezone = 1
}

binds {
    pass_mouse_when_bound = false
    scroll_event_delay = 300
    workspace_back_and_forth = false
    allow_workspace_cycles = false
    focus_preferred_method = 0
}

#debug {
#    # ...
#}

dwindle {
    pseudotile = true
    force_split = 0
    preserve_split = true
    special_scale_factor = 0.8
    split_width_multiplier = 1.0
    no_gaps_when_only = false
    use_active_for_splits = true
    default_split_ratio = 0.9
}

master {
    special_scale_factor = 0.8
    mfact = 0.55
    new_is_master = false
    new_on_top = false
    no_gaps_when_only = false
    orientation = left
    inherit_fullscreen = true
    always_center_master = false
}

### bindings ###

# bind flags:
#   e = autorepeat
#   l = pass through screenlock
#   r = on release
#   m = mouse-specific for holding the buttons

$MODKEY = SUPER

# launch applications
bind  = $MODKEY SHIFT,      Return, exec, foot
bindr = $MODKEY,            P,      exec, sh -c "$(tofi-run)"
bind  = $MODKEY SHIFT,      S,      exec, grim -g "$(slurp)" - | wl-copy
bind  = $MODKEY CTRL SHIFT, S,      exec, grim -g "$(slurp)" - | swappy -f -
bind  = $MODKEY,            B,      exec, killall -SIGUSR1 waybar

# control volume
bindl  = , XF86AudioMicMute,     exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindl  = , XF86AudioMute,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%+
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%-

# control backlight
bindle = , XF86MonBrightnessUp,   exec, brightnessctl set +2%
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 2%-

# hyprland
bind = $MODKEY SHIFT,     C,      killactive
bind = $MODKEY ALT SHIFT, Q,      exit
bind = $MODKEY,           F,      togglefloating
bind = $MODKEY,           M,      fullscreen, 0
bind = $MODKEY SHIFT,     M,      fakefullscreen
# dwindle
bind = $MODKEY,           T,      pseudo
bind = $MODKEY,           Y,      togglesplit

# move focus
bind = $MODKEY, H, movefocus, l
bind = $MODKEY, J, movefocus, d
bind = $MODKEY, K, movefocus, u
bind = $MODKEY, L, movefocus, r
# move window
bind = $MODKEY SHIFT, H, movewindow, l
bind = $MODKEY SHIFT, J, movewindow, d
bind = $MODKEY SHIFT, K, movewindow, u
bind = $MODKEY SHIFT, L, movewindow, r
# resize window
binde = $MODKEY CTRL, H, resizeactive, -20 0
binde = $MODKEY CTRL, J, resizeactive, 0 20
binde = $MODKEY CTRL, K, resizeactive, 0 -20
binde = $MODKEY CTRL, L, resizeactive, 20 0
# group window
bind = $MODKEY, G,   togglegroup
bind = $MODKEY, Tab, changegroupactive
# move window to group
bind = $MODKEY CTRL, H, moveintogroup, l
bind = $MODKEY CTRL, J, moveintogroup, d
bind = $MODKEY CTRL, K, moveintogroup, u
bind = $MODKEY CTRL, L, moveintogroup, r
bind = $MODKEY CTRL, Tab, moveoutofgroup

# switch workspaces
bind = $MODKEY, ampersand,  workspace, 1
bind = $MODKEY, eacute,     workspace, 2
bind = $MODKEY, quotedbl,   workspace, 3
bind = $MODKEY, apostrophe, workspace, 4
bind = $MODKEY, parenleft,  workspace, 5
bind = $MODKEY, minus,      workspace, 6
bind = $MODKEY, egrave,     workspace, 7
bind = $MODKEY, underscore, workspace, 8
bind = $MODKEY, ccedilla,   workspace, 9
bind = $MODKEY, agrave,     workspace, 10
# move window to workspace
bind = $MODKEY SHIFT, ampersand,  movetoworkspacesilent, 1
bind = $MODKEY SHIFT, eacute,     movetoworkspacesilent, 2
bind = $MODKEY SHIFT, quotedbl,   movetoworkspacesilent, 3
bind = $MODKEY SHIFT, apostrophe, movetoworkspacesilent, 4
bind = $MODKEY SHIFT, parenleft,  movetoworkspacesilent, 5
bind = $MODKEY SHIFT, minus,      movetoworkspacesilent, 6
bind = $MODKEY SHIFT, egrave,     movetoworkspacesilent, 7
bind = $MODKEY SHIFT, underscore, movetoworkspacesilent, 8
bind = $MODKEY SHIFT, ccedilla,   movetoworkspacesilent, 9
bind = $MODKEY SHIFT, agrave,     movetoworkspacesilent, 10

# mouse (left is 272, right is 273, middle is 274)
bindm = $MODKEY, mouse:272,  movewindow
bindm = $MODKEY, mouse:273,  resizewindow
bind  = $MODKEY, mouse:274,  togglefloating
bind  = $MODKEY, mouse_down, workspace, e+1
bind  = $MODKEY, mouse_up,   workspace, e-1

# switch
$SWITCH = 705f3680

bindl = , switch:$SWITCH, exec, waylock
