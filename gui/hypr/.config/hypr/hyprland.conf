# For more info, see https://wiki.hyprland.org

### monitors ###
monitor = ,preferred,auto,1

### environment variables ###

# backends
env = GDK_BACKEND,wayland,x11
env = SDL_VIDEODRIVER,wayland
env = CLUTTER_BACKEND,wayland
env = _JAVA_AWT_WM_NONREPARENTING,1
# qt
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
# xdg
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
# misc
env = XCURSOR_SIZE,24
env = TERMINAL,foot

### autostart ###

exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = ~/.config/hypr/scripts/xdg-desktop-portal.sh
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = dunst
exec-once = waybar
exec-once = nm-applet
exec-once = playerctld daemon
exec-once = ~/.config/hypr/scripts/batsignal.sh
exec-once = swayidle -w timeout 900 '~/.config/hypr/scripts/waylock.sh' timeout 930 'hyprctl dispatch dpms off' resume 'hyprctl dispatch dpms on'
exec-once = swaybg -m fill -i "$XDG_DATA_HOME"/bg
exec-once = gammastep -P -t 3700:2700 -l 2:49

### sections ###

general {
    #sensitivity = 1.0 # legacy
    border_size = 0
    no_border_on_floating = false
    gaps_in = 0
    gaps_out = 0
    col.inactive_border = rgba(44444466)
    col.active_border = rgb(446666)
    col.group_border = rgba(77770066)
    col.group_border_active = rgba(ffff0066)
    cursor_inactive_timeout = 4
    layout = dwindle
    no_cursor_warps = false
    no_focus_fallback = false
    apply_sens_to_raw = false
    resize_on_border = true
    extend_border_grab_area = 15
    hover_icon_on_border = true
}

decoration {
    rounding = 4
    multisample_edges = true
    active_opacity = 1.0
    inactive_opacity = 1.0
    fullscreen_opacity = 1.0
    blur = false
    blur_size = 8
    blur_passes = 1
    blur_ignore_opacity = false
    blur_new_optimizations = true
    blur_xray = false
    drop_shadow = false
    shadow_range = 4
    shadow_render_power = 3
    shadow_ignore_window = true
    col.shadow = rgba(1a1a1aee)
    #col.shadow_inactive = # empty by default
    shadow_offset = 0 0
    shadow_scale = 1.0
    dim_inactive = false
    dim_strength = 0.5
    dim_special = 0.2
    dim_around = 0.4
    #screen_shader = # empty by default
}

animations {
    enabled = true
    bezier = easeOutExpo, 0.1, 1.0, 0.3, 1.0
    animation = windows, 1, 3, easeOutExpo, popin 80%
    animation = fade, 1, 5, easeOutExpo
    animation = border, 1, 5, easeOutExpo
    animation = borderangle, 1, 5, easeOutExpo
    animation = workspaces, 0, 3, easeOutExpo, fade
}

input {
    #kb_model = # empty by default
    kb_layout = fr
    #kb_variant = # empty by default
    kb_options = caps:escape
    #kb_rules = # empty by default
    #kb_file = # empty by default
    numlock_by_default = true
    repeat_rate = 40
    repeat_delay = 300
    sensitivity = 0.0
    #accel_profile = # empty by default
    force_no_accel = false
    left_handed = false
    #scroll_method = # empty by default
    scroll_button = 0
    natural_scroll = false
    follow_mouse = 1
    mouse_refocus = true
    float_switch_override_focus = 1
    touchpad {
        disable_while_typing = true
        natural_scroll = false
        scroll_factor = 1.0
        middle_button_emulation = false
        tap_button_map = lrm
        clickfinger_behavior = false
        tap-to-click = true
        drag_lock = false
        tap-and-drag = false
    }
    touchdevice {
        transform = 0
        #output = # empty by default
    }
}

gestures {
    workspace_swipe = false
    workspace_swipe_fingers = 3
    workspace_swipe_distance = 300
    workspace_swipe_invert = true
    workspace_swipe_min_speed_to_force = 30
    workspace_swipe_cancel_ratio = 0.5
    workspace_swipe_create_new = true
    workspace_swipe_forever = false
    workspace_swipe_numbered = false
}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    vfr = true
    vrr = 0
    mouse_move_enables_dpms = false
    key_press_enables_dpms = false
    always_follow_on_dnd = true
    layers_hog_keyboard_focus = true
    animate_manual_resizes = false
    animate_mouse_windowdragging = false
    disable_autoreload = false
    enable_swallow = true
    swallow_regex = ^(foot)$
    swallow_exception_regex = ^(wev)$
    focus_on_activate = false
    no_direct_scanout = true
    hide_cursor_on_touch = true
    mouse_move_focuses_monitor = true
    suppress_portal_warnings = false
    render_ahead_of_time = false
    render_ahead_safezone = 1
    cursor_zoom_factor = 1.0
    cursor_zoom_rigid = false
    allow_session_lock_restore = false
    render_titles_in_groupbar = false
    groupbar_titles_font_size = 8
    groupbar_gradients = false
    groupbar_text_color = false
}

binds {
    pass_mouse_when_bound = false
    scroll_event_delay = 300
    workspace_back_and_forth = false
    allow_workspace_cycles = false
    focus_preferred_method = 0
}

#debug {
#    # ...
#}

dwindle {
    pseudotile = true
    force_split = 0
    preserve_split = true
    permanent_direction_override = false
    special_scale_factor = 0.8
    split_width_multiplier = 1.0
    no_gaps_when_only = false
    use_active_for_splits = true
    default_split_ratio = 1.0
}

master {
    allow_small_split = false
    special_scale_factor = 0.8
    mfact = 0.55
    new_is_master = false
    new_on_top = false
    no_gaps_when_only = false
    orientation = left
    inherit_fullscreen = true
    always_center_master = false
}

### rules ###

windowrule = float,dialog
windowrule = float,confirm
windowrule = float,notification
windowrule = float,file_progress
windowrule = float,download
windowrule = float,error
windowrule = float,splash
windowrule = workspace special:scratchpad,title:scratchpad
windowrule = float,nwg-look
windowrule = float,pavucontrol
windowrule = float,nm-connection-editor

### bindings ###

# bind flags:
#   e = autorepeat
#   l = pass through screenlock
#   r = on release
#   m = mouse-specific for holding the buttons

# applications
bind  = MOD4 SHIFT,      Return, exec, foot
bind  = MOD4,            Return, exec, foot -T scratchpad
bind  = MOD4 CTRL,       Return, togglespecialworkspace, scratchpad
bindr = MOD4,            P,      exec, sh -c "$(tofi-run)"
bindr = MOD4 SHIFT,      P,      exec, sh -c "$(tofi-drun)"
bind  = MOD4,            B,      exec, killall -SIGUSR1 waybar
bind  = MOD4 ALT,        Escape, exec, wlogout -p layer-shell -b 5
bind  = MOD4 ALT SHIFT,  L,      exec, ~/.config/hypr/scripts/waylock.sh
bind  = MOD4 SHIFT,      S,      exec, grim -g "$(slurp)" - | wl-copy
bind  = MOD4 CTRL SHIFT, S,      exec, grim -g "$(slurp)" - | swappy -f -
bind  = MOD4 SHIFT,      D,      exec, hyprpicker | wl-copy -n
bind  = MOD4,            F1,     exec, ~/.config/hypr/scripts/gamemode.sh
bind  = MOD4,            Exclam, exec, BEMOJI_PICKER_CMD="tofi" bemoji -n
bind  = MOD4 SHIFT,      N,      exec, dunstctl close

# clipboard manager
exec-once = wl-paste --type text --watch cliphist store
exec-once = wl-paste --type image --watch cliphist store
bind = MOD4, V, exec, cliphist list | tofi | cliphist decode | wl-copy

# backlight control
bindle = , XF86MonBrightnessUp,   exec, brightnessctl set +2%
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 2%-
# audio control
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%+
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%-
bindl  = , XF86AudioMute,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl  = , XF86AudioMicMute,     exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
# media control
bindl  = , XF86AudioPlay,  exec, playerctl play-pause
bindl  = , XF86AudioPause, exec, playerctl play-pause
bindl  = , XF86AudioNext,  exec, playerctl next
bindl  = , XF86AudioPrev,  exec, playerctl previous
bindl  = , XF86AudioStop,  exec, playerctl stop

# hyprland
bind = MOD4 ALT SHIFT, Q, exit
bind = MOD4 SHIFT,     C, killactive
bind = MOD4,           F, togglefloating
bind = MOD4 SHIFT,     F, workspaceopt, allfloat
bind = MOD4,           M, fullscreen, 0
bind = MOD4 SHIFT,     M, fakefullscreen
# dwindle
bind = MOD4,           T, pseudo
bind = MOD4,           Y, togglesplit

# move focus
bind = MOD4, H, movefocus, l
bind = MOD4, J, movefocus, d
bind = MOD4, K, movefocus, u
bind = MOD4, L, movefocus, r

# move window
bind = MOD4 SHIFT, H, movewindow, l
bind = MOD4 SHIFT, J, movewindow, d
bind = MOD4 SHIFT, K, movewindow, u
bind = MOD4 SHIFT, L, movewindow, r
# resize window
binde = MOD4 CTRL, H, resizeactive, -20 0
binde = MOD4 CTRL, J, resizeactive, 0 20
binde = MOD4 CTRL, K, resizeactive, 0 -20
binde = MOD4 CTRL, L, resizeactive, 20 0

# group window
bind = MOD4,       G,   togglegroup
bind = MOD4,       Tab, changegroupactive, f
bind = MOD4 SHIFT, Tab, changegroupactive, b
bind = MOD4 SHIFT, G,   lockgroups, toggle
# move window to group
bind = MOD4 ALT, H,   moveintogroup, l
bind = MOD4 ALT, J,   moveintogroup, d
bind = MOD4 ALT, K,   moveintogroup, u
bind = MOD4 ALT, L,   moveintogroup, r
bind = MOD4 ALT, Tab, moveoutofgroup

# go to workspace
bind = MOD4, ampersand,        workspace, 1
bind = MOD4, eacute,           workspace, 2
bind = MOD4, quotedbl,         workspace, 3
bind = MOD4, apostrophe,       workspace, 4
bind = MOD4, parenleft,        workspace, 5
bind = MOD4, minus,            workspace, 6
bind = MOD4, egrave,           workspace, 7
bind = MOD4, underscore,       workspace, 8
bind = MOD4, ccedilla,         workspace, 9
bind = MOD4, agrave,           workspace, 10
# move window to workspace
bind = MOD4 SHIFT, ampersand,  movetoworkspacesilent, 1
bind = MOD4 SHIFT, eacute,     movetoworkspacesilent, 2
bind = MOD4 SHIFT, quotedbl,   movetoworkspacesilent, 3
bind = MOD4 SHIFT, apostrophe, movetoworkspacesilent, 4
bind = MOD4 SHIFT, parenleft,  movetoworkspacesilent, 5
bind = MOD4 SHIFT, minus,      movetoworkspacesilent, 6
bind = MOD4 SHIFT, egrave,     movetoworkspacesilent, 7
bind = MOD4 SHIFT, underscore, movetoworkspacesilent, 8
bind = MOD4 SHIFT, ccedilla,   movetoworkspacesilent, 9
bind = MOD4 SHIFT, agrave,     movetoworkspacesilent, 10

# mouse
#   left is 272
#   right is 273
#   middle is 274
bindm = MOD4, mouse:272, movewindow
bindm = MOD4, mouse:273, resizewindow
bind  = MOD4, mouse:274, togglefloating
