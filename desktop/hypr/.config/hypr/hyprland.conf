# For more info, see https://wiki.hyprland.org

###( Monitors )###

monitor = ,preferred,auto,1

###( Environment variables )###

# UI toolkits
env = CLUTTER_BACKEND,wayland
env = GDK_BACKEND,wayland,x11
env = _JAVA_AWT_WM_NONREPARENTING,1
env = SDL_VIDEODRIVER,wayland,x11
env = QT_AUTO_SCREEN_SCALE_FACTOR,1
env = QT_QPA_PLATFORM,wayland;xcb
env = QT_QPA_PLATFORMTHEME,qt5ct
env = QT_WAYLAND_DISABLE_WINDOWDECORATION,1
# XDG
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
# Misc
env = XCURSOR_SIZE,24

###( Execs )###

# Make screen shares work
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = ~/.config/hypr/scripts/xdg-desktop-portal.sh
#
exec-once = ~/.config/hypr/scripts/batsignal.sh
exec-once = gammastep -P -t 3700:2700 -l 2:49
exec-once = ~/.config/hypr/scripts/swayidle.sh
exec-once = mako
exec-once = nm-applet
exec-once = playerctld daemon
exec-once = /usr/lib/polkit-gnome/polkit-gnome-authentication-agent-1
exec-once = swaybg -m fill -i "$XDG_DATA_HOME"/bg
exec-once = waybar

###( Variables )###

general {
    border_size = 0
    gaps_in = 0
    gaps_out = 0
    cursor_inactive_timeout = 4
    layout = dwindle
}

decoration {
    rounding = 4
    blur_size = 1
}

animations {
    enabled = true
    bezier = easeOutExpo, 0.1, 1.0, 0.3, 1.0
    animation = windows, 1, 3, easeOutExpo, popin 80%
    animation = fade, 1, 5, easeOutExpo
    animation = border, 0, 5, easeOutExpo
    animation = borderangle, 0, 5, easeOutExpo
    animation = workspaces, 0, 3, easeOutExpo, fade
}

input {
    kb_layout = fr
    kb_options = caps:escape
    repeat_rate = 40
    repeat_delay = 300
}

#gestures {}

misc {
    disable_hyprland_logo = true
    disable_splash_rendering = true
    render_titles_in_groupbar = false
    groupbar_gradients = false
}

#binds {}

#xwayland {}

#debug {}

dwindle {
    preserve_split = true
}

#master {}

###( Rules )###

# Generic windows
windowrule = float,confirm
windowrule = float,dialog
windowrule = float,download
windowrule = float,error
windowrule = float,file_progress
windowrule = float,notification
windowrule = float,splash
# Applications
windowrulev2 = float,class:^(LibreWolf)$
windowrulev2 = tile,class:LibreWolf,title:^(LibreWolf)$
windowrule = float,^(com.github.hluk.copyq)$
windowrule = float,^(org.ksnip.ksnip)$
windowrule = float,^(nm-connection-editor)$
windowrule = float,^(nwg-look)$
windowrule = float,^(pavucontrol)$
windowrule = float,^(imv)$
# Layers
layerrule = blur,gtk-layer-shell
layerrule = blur,launcher
layerrule = ignorezero,gtk-layer-shell
layerrule = ignorezero,launcher

###( Binds )###

# Bind flags:
#     e | autorepeat (you can think of '[e]ncore')
#     l | pass through screen[l]ock
#     m | [m]ouse-specific for holding the buttons
#     r | activate on [r]elease

# Terminal
env = TERMINAL,foot
bind = MOD4 SHIFT, Return, exec, foot

# Scratchpad
windowrule = workspace special:scratchpad,title:scratchpad
bind = MOD4,      Return, exec, foot -T scratchpad
bind = MOD4 CTRL, Return, togglespecialworkspace, scratchpad

# Applications
bindr = MOD4,            P,      exec, sh -c "$(tofi-run)"
bindr = MOD4 SHIFT,      P,      exec, sh -c "$(tofi-drun)"
bind  = MOD4,            B,      exec, killall -SIGUSR1 waybar
bind  = MOD4 ALT SHIFT,  L,      exec, ~/.config/hypr/scripts/waylock.sh
bind  = MOD4,            F1,     exec, ~/.config/hypr/scripts/gamemode.sh
bind  = MOD4 SHIFT,      S,      exec, grimblast --freeze copy area
bind  = MOD4 CTRL SHIFT, S,      exec, GRIMBLAST_EDITOR=ksnip grimblast --freeze edit area
bind  = MOD4 SHIFT,      D,      exec, hyprpicker | wl-copy -n
bind  = MOD4,            Exclam, exec, BEMOJI_PICKER_CMD="tofi" bemoji -n
bind  = MOD4 SHIFT,      N,      exec, makoctl dismiss
bind  = MOD4 CTRL SHIFT, N,      exec, makoctl restore

# Clipboard manager
exec-once = copyq --start-server
bind = MOD4, V, exec, copyq show

# Backlight control
bindle = , XF86MonBrightnessUp,   exec, brightnessctl set +2%
bindle = , XF86MonBrightnessDown, exec, brightnessctl set 2%-

# Audio control
bindle = , XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%+
bindle = , XF86AudioLowerVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 2%-
bindl  = , XF86AudioMute,        exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindl  = , XF86AudioMicMute,     exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle

# Media control
bindl  = , XF86AudioPlay,  exec, playerctl play-pause
bindl  = , XF86AudioPause, exec, playerctl play-pause
bindl  = , XF86AudioNext,  exec, playerctl next
bindl  = , XF86AudioPrev,  exec, playerctl previous
bindl  = , XF86AudioStop,  exec, playerctl stop

# Hyprland
bind = MOD4 ALT SHIFT, Q, exit
bind = MOD4 SHIFT,     C, killactive
bind = MOD4,           F, togglefloating
bind = MOD4 SHIFT,     F, workspaceopt, allfloat
bind = MOD4,           M, fullscreen, 0
bind = MOD4 SHIFT,     M, fakefullscreen

# Dwindle-specific
bind = MOD4, Y, togglesplit

# Move focus
bind = MOD4, H, movefocus, l
bind = MOD4, J, movefocus, d
bind = MOD4, K, movefocus, u
bind = MOD4, L, movefocus, r

# Move window
bind = MOD4 SHIFT, H, movewindow, l
bind = MOD4 SHIFT, J, movewindow, d
bind = MOD4 SHIFT, K, movewindow, u
bind = MOD4 SHIFT, L, movewindow, r

# Resize window
binde = MOD4 CTRL, H, resizeactive, -20 0
binde = MOD4 CTRL, J, resizeactive, 0 20
binde = MOD4 CTRL, K, resizeactive, 0 -20
binde = MOD4 CTRL, L, resizeactive, 20 0

# Group window
bind = MOD4,       G,   togglegroup
bind = MOD4 SHIFT, G,   lockgroups, toggle
bind = MOD4,       Tab, changegroupactive, f
bind = MOD4 SHIFT, Tab, changegroupactive, b

# Move window to group
bind = MOD4 ALT, H,   moveintogroup, l
bind = MOD4 ALT, J,   moveintogroup, d
bind = MOD4 ALT, K,   moveintogroup, u
bind = MOD4 ALT, L,   moveintogroup, r
bind = MOD4 ALT, Tab, moveoutofgroup

# Go to workspace
bind = MOD4, ampersand,  workspace, 1
bind = MOD4, eacute,     workspace, 2
bind = MOD4, quotedbl,   workspace, 3
bind = MOD4, apostrophe, workspace, 4
bind = MOD4, parenleft,  workspace, 5
bind = MOD4, minus,      workspace, 6
bind = MOD4, egrave,     workspace, 7
bind = MOD4, underscore, workspace, 8
bind = MOD4, ccedilla,   workspace, 9
bind = MOD4, agrave,     workspace, 10

# Move window to workspace
bind = MOD4 SHIFT, ampersand,  movetoworkspacesilent, 1
bind = MOD4 SHIFT, eacute,     movetoworkspacesilent, 2
bind = MOD4 SHIFT, quotedbl,   movetoworkspacesilent, 3
bind = MOD4 SHIFT, apostrophe, movetoworkspacesilent, 4
bind = MOD4 SHIFT, parenleft,  movetoworkspacesilent, 5
bind = MOD4 SHIFT, minus,      movetoworkspacesilent, 6
bind = MOD4 SHIFT, egrave,     movetoworkspacesilent, 7
bind = MOD4 SHIFT, underscore, movetoworkspacesilent, 8
bind = MOD4 SHIFT, ccedilla,   movetoworkspacesilent, 9
bind = MOD4 SHIFT, agrave,     movetoworkspacesilent, 10

# Mouse buttons:
#     272 | LMB
#     273 | RMB
#     274 | MMB

bindm = MOD4, mouse:272, movewindow
bindm = MOD4, mouse:273, resizewindow
bind  = MOD4, mouse:274, togglefloating
